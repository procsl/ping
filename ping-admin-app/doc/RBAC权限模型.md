# [RBAC权限模型](#RBAC权限模型)
RBAC（Role-Based Access Control）即：基于角色的权限控制。通过角色关联用户，角色关联权限的方式间接赋予用户权限。

如下图：
![file](https://www.procsl.cn/wp-content/uploads/2019/12/5de381e4df116.png)
## [名词解释](#名词解释)
用户: 用户是系统提供给操作者的一种控制接口 也是客体的一种抽象
角色: 角色是权限的集合, 为了方便操作用户权限
权限: 权限是系统提供的资源的操作方式

可以通过修改用户的角色而批量修改用户的权限

# [RBAC模型的分类](#RBAC模型的分类)
RBAC模型可以分为：RBAC0、RBAC1、RBAC2、RBAC3 四种。其中RBAC0是基础，也是最简单的，相当于底层逻辑，RBAC1、RBAC2、RBAC3都是以RBAC0为基础的升级。

## [RBAC0模型](#RBAC0模型)
最简单的用户、角色、权限模型。这里面又包含了2种：

1. 用户和角色是多对一关系，即：一个用户只充当一种角色，一种角色可以有多个用户担当。
2. 用户和角色是多对多关系，即：一个用户可同时充当多种角色，一种角色可以有多个用户担当。

## [RBAC1模型](#RBAC1模型)
相对于RBAC0模型，增加了子角色，引入了继承概念，即子角色可以继承父角色的所有权限。
![file](https://www.procsl.cn/wp-content/uploads/2019/12/5de38531d3061.png)

**使用场景***：如某个业务部门，有经理、主管、专员。主管的权限不能大于经理，专员的权限不能大于主管，如果采用RBAC0模型做权限系统，极可能出现分配权限失误，最终出现主管拥有经理都没有的权限的情况。

而RBAC1模型就很好解决了这个问题，创建完经理角色并配置好权限后，主管角色的权限继承经理角色的权限，并且支持在经理权限上删减主管权限。

## [RBAC2模型](#RBAC2模型)
基于RBAC0模型，增加了对角色的一些限制：角色互斥、基数约束、先决条件角色等。

1. **角色互斥**：同一用户不能分配到一组互斥角色集合中的多个角色，互斥角色是指权限互相制约的两个角色。案例：财务系统中一个用户不能同时被指派给会计角色和审计员角色。
2. **基数约束**：一个角色被分配的用户数量受限，它指的是有多少用户能拥有这个角色。例如：一个角色专门为公司CEO创建的，那这个角色的数量是有限的。
3. **先决条件角色**：指要想获得较高的权限，要首先拥有低一级的权限。例如：先有副总经理权限，才能有总经理权限。
4. **运行时互斥**：例如，允许一个用户具有两个角色的成员资格，但在运行中不可同时激活这两个角色。

## [RBAC3模型](#RBAC3模型)
包含RBAC的全部特征, 同时包含部分扩展功能 例如: 用户组 数据权限 动态条件等特征

# [权限](#权限)

权限是资源的集合，这里的资源指的是软件中所有的内容，包括模块、菜单、页面、字段、操作功能（增删改查）等等。具体的权限配置上，目前形式多种多样，按照我个人的理解，可以将权限分为：**页面权限**、**操作权限**和**数据权限**。

1. **页面权限**：所有系统都是由一个个的页面组成，页面再组成模块，用户是否能看到这个页面的菜单、是否能进入这个页面就称为页面权限。
2. **操作权限**：用户凡是在操作系统中的任何动作、交互都是操作权限，如增删改查等。
3. **数据权限**：一般业务管理系统，都有数据私密性的要求：哪些人可以看到哪些数据，不可以看到哪些数据。

## [数据权限分类](#数据权限分类)
数据权限可分为**横向数据权限**和**纵向数据权限**
1. **横向数据权限**: 横向数据权限为相关数据列的展示,比如指定的表格数据的指定列是否展示
2. **纵向数据权限**: 是否添加默认展示条件, 展示条件可以为某种DSL脚本。
